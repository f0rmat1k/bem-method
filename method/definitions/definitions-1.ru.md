# Основные понятия БЭМ

Для начала работы с БЭМ необходимо ознакомиться с основными понятиями методологии:

* [Блок](#block)
* [Элемент](#elem)
* [Модификатор](#mod)
* [БЭМ-сущность](#entity)
* [Микс](#mix)
* [БЭМ-дерево](#bem-tree)
* [Технологии реализации блока](#techs)
* [Уровень переопределния](#level)
 * [Переопределение блока](#redefine)

<a name="block"></a>
## Блок

Блок — это логически и функционально независимый компонент страницы. Он содержит всю информацию о себе и своих [элементах](#elem). Детали внутренней реализации блока скрыты от пользователей. Блоки имеют API для взаимодействия друг с другом.

Они могут быть:

* простыми, например, `логотип` или `кнопка`;
* составными, содержащими в себе другие блоки, например, `шапка`.

![Составляющие блока Шапка](https://img-fotki.yandex.ru/get/15534/158800653.0/0_111fb2_7710ab3d_orig)

Блоки можно перемещать в пределах одной страницы, между разными страницами или повторно использовать в других проектах.

![Смена положения блоков](https://img-fotki.yandex.ru/get/16156/158800653.0/0_111fb3_2fec3fed_orig)

![Смена положения блоков](https://img-fotki.yandex.ru/get/15542/158800653.0/0_111fb1_bcbc3c6a_orig)

В интерфейсе может одновременно присутствовать несколько экземпляров одного и того же блока. Например, разные кнопки или перечень товаров в магазине.

![Товары в интернет-магазине](https://img-fotki.yandex.ru/get/15498/158800653.0/0_111fb0_fbb195e9_orig)

<a name="elem"></a>
## Элемент

Элемент — это часть реализации блока, которая не может существовать и использоваться в отрыве от него.

Примером элемента является пункт меню. Вне контекста блока `меню` пункт не имеет никакого смысла, а значит и самостоятельно использоваться не может.

Элемент может повторяться в блоке несколько раз.

![Пункты меню](https://img-fotki.yandex.ru/get/15588/158800653.0/0_111fb6_192672cf_orig)

>[Когда создавать блок, когда элемент?](#faq)

>[Почему в методологии БЭМ не существует элементов элементов?]()

<a name="mod"></a>
## Модификатор

Модификатор — это свойство блока или элемента, определяющее их внешний вид, состояние или поведение.

Блок или элемент может иметь несколько модификаторов одновременно или не иметь их вообще.

По своей сути модификаторы похожи на атрибуты в HTML. Один и тот же блок может выглядеть по-разному благодаря применению модификатора:

![Добавить меню в подвале](https://img-fotki.yandex.ru/get/16183/158800653.0/0_111fba_921b3c47_orig) / добавить в картинку описание

>[Почему один модификатор не может одновременно относится и к блоку, и к элементу?]()

<a name="entity"></a>
## БЭМ-сущность

БЭМ-сущностями называются блоки, элементы и модификаторы.

Это понятие применяется как собирательное, если необходимо сказать обо всех сущностях одновременно, или как частное, если рассматривается отдельная БЭМ-сущность. 

<a name="mix"></a>
## Микс

Микс — это использование разных [БЭМ-сущностей](#entity) на одном DOM-узле.

Миксы дают возможность:

* совмещать поведение и стили нескольких БЭМ-сущностей без дублирования кода;
* создавать семантически новые компоненты интерфейса на основе имеющихся блоков.

Рассмотрим пример микса блока и элемента другого блока. Допустим, в проекте ссылки реализованы блоком `link`. Сделаем пункты меню также ссылками. Для этого можно создать дополнительный модификатор `type` со значением `link` для пункта меню, но тогда придется скопировать поведение и стили ссылки (`link`). Это приведет к дублированию кода. А можно смиксовать универсальный блок `link` и элемент `link` блока `menu`. В таком случае применится базовая функциональность ссылок и все необходимые дополнительные правила из блока меню.

//тут должна быть картинка про ссылки

<a name="bem-tree"></a>
## БЭМ-дерево

БЭМ-дерево — представление структуры веб-страницы в терминах блоков, элементов, модификаторов. Это абстракция над [DOM-деревом](https://ru.wikipedia.org/wiki/Document_Object_Model), которая описывает имена БЭМ-сущностей, их состояния, порядок, вложенность и вспомогательные данные.

Рассмотрим пример DOM-дерева:

```html
<header class="header">
    <div class="logo"></div>
    <div class="search">
        <input type="input">
        <button type="button"></button>
    </div>
    <div class="lang-switcher"></div>
</header>
```

Ему соответствует такое БЭМ-дерево:

```
header
  ├──logo
  └──search
    ├──input
    └──button
  └──lang-switcher
```

В реальных проектах БЭМ-дерево можно выразить любым форматом, который поддерживает древовидную структуру.

Например, это же БЭМ-дерево будет иметь такой вид:

В XML

```xml
<block:header>
    <block:logo>
    <block:search>
        <block:input>
        <block:button>
    <block:lang-switcher>
```

В [BEMJSON](#https://ru.bem.info/technology/bemjson/current/bemjson/)

```
{
    block: 'header',
    content : [
        {
            block : 'logo'
        },
        {
            block : 'search-form',
            content : [
                {
                    block : 'input'
                },
                {
                    block : 'button'
                }
            ]
        },
        {
            block : 'lang-switcher'
        }
    ]
}
```

<a name="techs"></a>
## Технология реализации блока

Блок — независимый компонент страницы, для которого реализовано поведение и определен внешний вид. К блоку пишутся тесты и документация. Блоки могут взаимодействовать друг с другом, могут содержать дополнительные данные (например, картинки).

//Он может взаимодействовать с другими компонентами и содержать в себе дополнительные данные (например, каринки).
 
Для **реализации блока** используются различные **технологии**. Например, стили могут описываться в CSS, Stylus, Sass, поведение блока — в JavaScript, CoffeeScript и т.д. Для реализации шаблонов может использоваться Jade, Handlebars.js, XSL, а для документации — MarkDown, DITA или XML. 

Такие технологии в БЭМ называются **технологиями реализации блока**.

Например, если блоку `button` заданы стили, это означает, что блок реализован в технологии CSS. А если к нему написана документация в формате MarkDown, то — в технологии md.

<a name="level"></a>
## Уровень переопределния

Уровень переопределения — это набор готовых блоков и их частичных реализаций.

Реализация блока может быть разделена по уровням переопределния. Каждый последующий уровень добавляет или перекрывает базовую реализацию блока. Конечный результат собирается со всех уровней переопределения последовательно в заданном порядке.

Проект,  может содержать несколько уровней. Например, сторонняя библиотека содержит базовые реализации блоков и подключается как отдельный уровень . Блоки, созданные для проекта, хранятся на проектном уровне.

Предположим, что для применения блока из библиотеки, необходимо изменить его стили. Для этого не нужно менять CSS-правила блока в коде библиотеки или копировать блок и вносить изменения там. Достаточно создать новые стили для этого блока на уровне проекта. При сборке в конечную реализацию подключится базовая функциональность с уровня библиотеки и новые стили с проектного уровня.

Также можно [переопределять](#redefine) стили, шаблоны, JavaScript-реализацию блоков на уровне проекта. При этом, в исходные файлы библиотеки не меняется. Это позволяет сохранять изменения на уровне проекта в случае обновления библиотеки.

<a name="redefine"></a>
### Переопределение блока

Переопределение — это изменение базовой реализации блока с помощью добавления ему новых особенностей на другом уровне. Конечная реализация блока собирается последоватьельно из отдельных [технологий реализации](#techs) этого блока, распределенных по разным уровням. Порядок выбора последовательности отпределяется в конфигурации сборки.
